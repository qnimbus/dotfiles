# ~/.gitconfig.tmpl

[init]
	defaultBranch = main

[gpg]
	format = ssh

[gpg "ssh"]
{{- if eq .chezmoi.os "windows" }}
	# Use 1Password's SSH signer; LOCALAPPDATA keeps it portable on Windows.
	# Forward slashes work fine in Git config on Windows.
	program = {{ (env "LOCALAPPDATA") | replace "\\" "/" }}/Microsoft/WindowsApps/op-ssh-sign.exe
{{- else}}
  program = "/mnt/c/Users/bas/AppData/Local/Microsoft/WindowsApps/op-ssh-sign-wsl.exe"
{{- end }}

[commit]
	gpgsign = true

[user]
	email = bas@vanwetten.com
	name = B. van Wetten
	# Keep your existing SSH signing key as-is
	signingkey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJjtSV0bDhvCWCcKAD+Kece829AJvzZiaE207NAOaoti

[core]
	# Line-ending normalization (cross-platform safe)
	autocrlf = input
	eol = lf

{{- if eq .chezmoi.os "windows" }}
	# Windows-specific SSH configuration
	sshCommand = C:/Windows/System32/OpenSSH/ssh.exe -F "{{ .chezmoi.homeDir | replace "\\" "/" }}/.ssh/config"
{{- end }}
